<app-navbar-admin></app-navbar-admin>
<div id="contact" class="contact-us section">
  <div class="container">
    <div class="row">
      <div class="col-lg-12 wow fadeInUp" data-wow-duration="0.5s" data-wow-delay="0.25s">
        <form id="contact" [formGroup]="pedidoForm" (ngSubmit)="agregarPedido()">
          <div class="row">
            <div class="col-lg-6 offset-lg-3">
              <div class="section-heading">
                <h2>Agregar solicitud</h2>
                <p>Ingrese los datos para generar la solicitud.</p>
              </div>
            </div>
            <div class="col-lg-6">
              <fieldset>
                <input type="name" formControlName="empresa" name="empresa" id="empresa" placeholder="Empresa"
                  autocomplete="on" required>
                <div *ngIf="pedidoForm.get('empresa')?.hasError('required') && pedidoForm.get('empresa')?.touched">
                  <span>El nombre de la empresa <strong>es obligatorio</strong></span>
                </div>
              </fieldset>
            </div>
            <div class="col-lg-6">
              <fieldset>
                <input type="surname" formControlName="direccion" name="direccion" id="direccion"
                  placeholder="Direccion" autocomplete="on" required>
                <div class="text-danger"
                  *ngIf="pedidoForm.get('direccion')?.hasError('required') && pedidoForm.get('direccion')?.touched">
                  <span>El nombre de la direccion <strong>es obligatorio</strong></span>
                </div>
              </fieldset>
            </div>
            <div class="col-lg-6">
              <fieldset>
                <input class="form-control" formControlName="contacto" type="text" name="contacto" id="contacto"
                  placeholder="Contacto" required>
                <div class="text-danger"
                  *ngIf="pedidoForm.get('contacto')?.hasError('required') && pedidoForm.get('contacto')?.touched">
                  <span>El nombre del contacto <strong>es obligatorio</strong></span>
                </div>
              </fieldset>
            </div>
            <div class="col-lg-6">
              <fieldset>
                <input type="subject" formControlName="encargado" name="encargado" id="encargado"
                  placeholder="Encargado" autocomplete="on">
                <div class="text-danger"
                  *ngIf="pedidoForm.get('encargado')?.hasError('required') && pedidoForm.get('encargado')?.touched">
                  <span>El nombre del encargado <strong>es obligatorio</strong></span>
                </div>
              </fieldset>
            </div>
            <div class="col-lg-6">
              <fieldset>
                <label>Seleccione la categoria</label>
                <select name="categoria" formControlName="categoria" id="categoria" class="form-control">
                  <option value="opcion2" disabled>-- Seleccione Categoria a encuestar --</option>
                  <option value="servicio">Servicio</option>
                  <option value="producto">Producto</option>
                </select>
                <div class="text-danger"
                  *ngIf="pedidoForm.get('categoria')?.hasError('required') && pedidoForm.get('categoria')?.touched">
                  <span>La categoria <strong>es obligatoria</strong></span>
                </div>
              </fieldset>
            </div>
            <div class="col-lg-6"><br>
              <fieldset>
                <input class="form-control" formControlName="nombreArticulo" type="text" name="nombreArticulo"
                  id="nombreArticulo" placeholder="Nombre del articulo" required>
                <div class="text-danger"
                  *ngIf="pedidoForm.get('nombreArticulo')?.hasError('required') && pedidoForm.get('nombreArticulo')?.touched">
                  <span>El nombre del articulo <strong>es obligatorio</strong></span>
                </div>
              </fieldset>
            </div>
            <div class="col-lg-6">
              <fieldset>
                <input class="form-control" formControlName="precioArticulo" type="number" name="precioArticulo"
                  id="precioArticulo" placeholder="Precio del articulo" required>
                <div class="text-danger"
                  *ngIf="pedidoForm.get('precioArticulo')?.hasError('required') && pedidoForm.get('precioArticulo')?.touched">
                  <span>El precio del articulo <strong>es obligatorio</strong></span>
                </div>
              </fieldset>
            </div>
            <div class="col-lg-6">
              <fieldset>
                <input class="form-control" formControlName="marcaArticulo" type="text" name="marcaArticulo"
                  id="marcaArticulo" placeholder="Marca del articulo" required>
                <div class="text-danger"
                  *ngIf="pedidoForm.get('marcaArticulo')?.hasError('required') && pedidoForm.get('marcaArticulo')?.touched">
                  <span>El nombre de la marca <strong>es obligatorio</strong></span>
                </div>
              </fieldset>
            </div>
            <div class="col-lg-12">
              <fieldset>
                <textarea formControlName="descripcionArticulo" name="descripcionArticulo" type="text"
                  class="form-control" id="descripcionArticulo" placeholder="ingresa descripcion del articulo"
                  required=""></textarea>
                <div class="text-danger"
                  *ngIf="pedidoForm.get('descripcionArticulo')?.hasError('required') && pedidoForm.get('descripcionArticulo')?.touched">
                  <span>La descripcion del articulo <strong>es obligatorio</strong></span>
                </div>
              </fieldset>
            </div>
                      <!--Botón de dirección-->
          <div class="col-lg-12 text-end">
            <button class="btn btn-sm btn-outline-success" (click)="agregarEncuestaConfigurada()">Agregar configuracion</button>
          </div>
            <!--Boton de enviar-->
            <div class="col-lg-12 text-end">
              <fieldset>
                <button type="submit" [disabled]="pedidoForm.invalid" id="form-submit" class="main-button btn-success">Enviar
                  solicitud</button>
              </fieldset>
            </div>
          </div>
          <!---Configuración encuesta---->
          <form id="contact" [formGroup]="encuestaConfiguradaForm" (ngSubmit)="agregarEncuestaConfigurada()">
            <div class="row">
              <div class="col-lg-6 offset-lg-3">
                <div class="section-heading">
                  <h2>Encuesta configurada</h2>
                  <p>Ingrese los datos para configurar la encuesta.</p>
                </div>
              </div>
              <div class="col-lg-6">
                <fieldset>
                  <input type="date" formControlName="fechaInicio" name="fechaInicio" id="fechaInicio"
                    placeholder="Fecha Inicio" autocomplete="on" required>
                  <div class="text-danger"
                    *ngIf="encuestaConfiguradaForm.get('fechaInicio')?.hasError('required') && encuestaConfiguradaForm.get('fechaInicio')?.touched">
                    <span>La fecha inicial <strong>es obligatoria</strong></span>
                  </div>
                </fieldset>
              </div>
              <div class="col-lg-6">
                <fieldset>
                  <input type="date" formControlName="fechaFinal" name="fechaFinal" id="fechaFinal"
                    placeholder="Fecha Final" autocomplete="on" required>
                  <div class="text-danger"
                    *ngIf="encuestaConfiguradaForm.get('fechaFinal')?.hasError('required') && encuestaConfiguradaForm.get('fechaFinal')?.touched">
                    <span>La fecha de termino <strong>es obligatoria</strong></span>
                  </div>
                </fieldset>
              </div>
              <div class="col-lg-6">
                <fieldset><br>
                  <input class="form-control" formControlName="titulo" type="text" name="titulo" id="titulo"
                    placeholder="Titulo" autocomplete="on" required>
                  <div class="text-danger"
                    *ngIf="encuestaConfiguradaForm.get('titulo')?.hasError('required') && encuestaConfiguradaForm.get('titulo')?.touched">
                    <span>El titulo <strong>es obligatorio</strong></span>
                  </div>
                </fieldset>
              </div>
              <div class="col-lg-6">
                <fieldset>
                  <label>Eliga tipo de poblacion</label>
                  <select name="poblacion" formControlName="poblacion" id="poblacion" class="form-control"
                    placeholder="Poblacion">
                    <option value="opcion2" disabled>-- Seleccione poblacion a encuestar --</option>
                    <option value="nino">Niño</option>
                    <option value="joven">Joven</option>
                    <option value="adulto">Adulto</option>
                    <option value="anciano">Anciano</option>
                    <option value="mujer">Mujer</option>
                    <option value="hombre">Hombre</option>
                    <option value="binario">Binario</option>
                  </select>
                  <div class="text-danger"
                    *ngIf="encuestaConfiguradaForm.get('poblacion')?.hasError('required') && encuestaConfiguradaForm.get('poblacion')?.touched">
                    <span>La categoria <strong>es obligatoria</strong></span>
                  </div>
                </fieldset>
              </div>

              <div class="col-lg-12">
                <fieldset>
                  <input class="form-control" formControlName="numeroEncuesta" type="number" name="numeroEncuesta"
                    id="numeroEncuesta" placeholder="Número de encuesta" autocomplete="on" required>
                  <div class="text-danger"
                    *ngIf="encuestaConfiguradaForm.get('numeroEncuesta')?.hasError('required') && encuestaConfiguradaForm.get('numeroEncuesta')?.touched">
                    <span>El número de encuesta <strong>es obligatorio</strong></span>
                  </div>
                </fieldset>
              </div>
              <!--Botón envio-->
              <div class="col-lg-12 text-end">
                <fieldset>
                  <button type="submit" [disabled]="encuestaConfiguradaForm.invalid" id="form-submit"
                    class="main-button">Agregar encuesta</button>
                </fieldset>
              </div>
            </div>
            <!--Selección de preguntas-->
            <form id="contact" [formGroup]="preguntaSelecForm" (ngSubmit)="agregarPreguntaSelec()">
              <div class="row">
                <div class="col-lg-6 offset-lg-3">
                  <div class="section-heading">
                    <h2>Selecciona tus preguntas</h2>
                  </div>
                </div>
                  <div class="row">
                    <tr>
                      <td><label align-items="left" for="campo-select">Seleccione la pregunta 1 sobre el precio:</label>
                      </td>
                    </tr>
                    <select formControlName="pregunta1">
                      <option *ngFor="let bancoPregu of listaBancoPregu"
                        [value]="bancoPregu.pregunta ? bancoPregu.pregunta.toString() : ''">
                        {{ bancoPregu.pregunta }}
                      </option>
                    </select>
                    <div class="text-danger"
                      *ngIf="preguntaSelecForm.get('pregunta1')?.hasError('required') && preguntaSelecForm.get('pregunta1')?.touched">
                      <span>La pregunta 1 <strong>es obligatorio</strong></span>
                    </div>
                  </div>
                  <br>
                  <div class="row">
                    <tr>
                      <td><label align-items="left" for="campo-select">Selecciona la pregunta 2 sobre el precio:</label>
                      </td>
                    </tr>
                    <select formControlName="pregunta2">
                      <option *ngFor="let bancoPregu of listaBancoPregu"
                        [value]="bancoPregu.pregunta ? bancoPregu.pregunta.toString() : ''">
                        {{ bancoPregu.pregunta }}
                      </option>
                    </select>
                    <div class="text-danger" formControlName="pregunta2" name="pregunta2"
                      *ngIf="preguntaSelecForm.get('pregunta2')?.hasError('required') && preguntaSelecForm.get('pregunta2')?.touched">
                      <span>La pregunta 2 <strong>es obligatorio</strong></span>
                    </div>
                  </div>
                  <br>
                  <div class="row">
                    <tr>
                      <td><label align-items="left" for="campo-select">Selecciona la pregunta 3 sobre el precio:</label>
                      </td>
                    </tr>
                    <select formControlName="pregunta3">
                      <option *ngFor="let bancoPregu of listaBancoPregu"
                        [value]="bancoPregu.pregunta ? bancoPregu.pregunta.toString() : ''">
                        {{ bancoPregu.pregunta }}
                      </option>
                    </select>
                    <div class="text-danger"
                      *ngIf="preguntaSelecForm.get('pregunta3')?.hasError('required') && preguntaSelecForm.get('pregunta3')?.touched">
                      <span>La pregunta 3 <strong>es obligatorio</strong></span>
                    </div>
                  </div>
                  <br>
                  <div class="row">
                    <tr>
                      <td><label align-items="left" for="campo-select">Selecciona la pregunta 4 sobre la
                          calidad:</label></td>
                    </tr>
                    <select formControlName="pregunta4">
                      <option *ngFor="let bancoPregu of listaBancoPregu"
                        [value]="bancoPregu.pregunta ? bancoPregu.pregunta.toString() : ''">
                        {{ bancoPregu.pregunta }}
                      </option>
                    </select>
                    <div class="text-danger"
                      *ngIf="preguntaSelecForm.get('pregunta4')?.hasError('required') && preguntaSelecForm.get('pregunta4')?.touched">
                      <span>La pregunta 4 <strong>es obligatorio</strong></span>
                    </div>
                  </div>
                  <br>
                  <div class="row">
                    <tr>
                      <td><label align-items="left" for="campo-select">Selecciona la pregunta 5 sobre la
                          calidad:</label></td>
                    </tr>
                    <select formControlName="pregunta5">
                      <option *ngFor="let bancoPregu of listaBancoPregu"
                        [value]="bancoPregu.pregunta ? bancoPregu.pregunta.toString() : ''">
                        {{ bancoPregu.pregunta }}
                      </option>
                    </select>
                    <div class="text-danger"
                      *ngIf="preguntaSelecForm.get('pregunta5')?.hasError('required') && preguntaSelecForm.get('pregunta5')?.touched">
                      <span>La pregunta 5 <strong>es obligatorio</strong></span>
                    </div>
                  </div>
                  <br>
                  <div class="row">
                    <tr>
                      <td><label align-items="left" for="campo-select">Selecciona la pregunta 6 sobre la
                          calidad:</label></td>
                    </tr>
                    <select formControlName="pregunta6">
                      <option *ngFor="let bancoPregu of listaBancoPregu"
                        [value]="bancoPregu.pregunta ? bancoPregu.pregunta.toString() : ''">
                        {{ bancoPregu.pregunta }}
                      </option>
                    </select>
                    <div class="text-danger"
                      *ngIf="preguntaSelecForm.get('pregunta6')?.hasError('required') && preguntaSelecForm.get('pregunta6')?.touched">
                      <span>La pregunta 6 <strong>es obligatorio</strong></span>
                    </div>
                  </div>
                  <br>
                  <div class="row">
                    <tr>
                      <td><label align-items="left" for="campo-select">Selecciona la pregunta 7 sobre la
                          calidad:</label></td>
                    </tr>
                    <select formControlName="pregunta7">
                      <option *ngFor="let bancoPregu of listaBancoPregu"
                        [value]="bancoPregu.pregunta ? bancoPregu.pregunta.toString() : ''">
                        {{ bancoPregu.pregunta }}
                      </option>
                    </select>
                    <div class="text-danger"
                      *ngIf="preguntaSelecForm.get('pregunta7')?.hasError('required') && preguntaSelecForm.get('pregunta7')?.touched">
                      <span>La pregunta 7 <strong>es obligatorio</strong></span>
                    </div>
                  </div>
                  <br>
                  <div class="row">
                    <tr>
                      <td><label align-items="left" for="campo-select">Selecciona la pregunta 8 sobre la
                          comunidad:</label></td>
                    </tr>
                    <select formControlName="pregunta8">
                      <option *ngFor="let bancoPregu of listaBancoPregu"
                        [value]="bancoPregu.pregunta ? bancoPregu.pregunta.toString() : ''">
                        {{ bancoPregu.pregunta }}
                      </option>
                    </select>
                    <div class="text-danger"
                      *ngIf="preguntaSelecForm.get('pregunta8')?.hasError('required') && preguntaSelecForm.get('pregunta8')?.touched">
                      <span>La pregunta 8 <strong>es obligatorio</strong></span>
                    </div>
                  </div>
                  <br>
                  <div class="row">
                    <tr>
                      <td><label align-items="left" for="campo-select">Selecciona la pregunta 9 sobre la
                          comunidad:</label></td>
                    </tr>
                    <select formControlName="pregunta9">
                      <option *ngFor="let bancoPregu of listaBancoPregu"
                        [value]="bancoPregu.pregunta ? bancoPregu.pregunta.toString() : ''">
                        {{ bancoPregu.pregunta }}
                      </option>
                    </select>
                    <div class="text-danger"
                      *ngIf="preguntaSelecForm.get('pregunta9')?.hasError('required') && preguntaSelecForm.get('pregunta9')?.touched">
                      <span>La pregunta 9 <strong>es obligatorio</strong></span>
                    </div>
                  </div>
                  <br>
                  <div class="row">
                    <tr>
                      <td><label align-items="left" for="campo-select">Selecciona la pregunta 10 sobre la
                          comunidad:</label></td>
                    </tr>
                    <select formControlName="pregunta10">
                      <option *ngFor="let bancoPregu of listaBancoPregu"
                        [value]="bancoPregu.pregunta ? bancoPregu.pregunta.toString() : ''">
                        {{ bancoPregu.pregunta }}
                      </option>
                    </select>
                    <div class="text-danger"
                      *ngIf="preguntaSelecForm.get('pregunta10')?.hasError('required') && preguntaSelecForm.get('pregunta10')?.touched">
                      <span>La pregunta 10 <strong>es obligatorio</strong></span>
                    </div>
                  </div>
                  <!--Boton de enviar-->
                  <div class="col-lg-12 text-end">
                    <fieldset>
                      <button type="submit" id="form-submit" class="main-button ">Enviar Pregunta</button>
                    </fieldset>
                  </div>
                </div>
            </form>
          </form>
        </form>
      </div>
